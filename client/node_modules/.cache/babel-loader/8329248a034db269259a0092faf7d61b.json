{"remainingRequest":"E:\\workplace\\WEB\\node-app\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\workplace\\WEB\\node-app\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workplace\\WEB\\node-app\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workplace\\WEB\\node-app\\client\\src\\components\\FundList\\FundList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workplace\\WEB\\node-app\\client\\src\\components\\FundList\\FundList.vue","mtime":1539157867956},{"path":"E:\\workplace\\WEB\\node-app\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1538537971188},{"path":"E:\\workplace\\WEB\\node-app\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workplace\\WEB\\node-app\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1538537971188},{"path":"E:\\workplace\\WEB\\node-app\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"fund-list\",\n  data: function data() {\n    return {\n      tableData: [],\n      allTableData: [],\n      formData: {\n        type: \"\",\n        describe: \"\",\n        income: \"\",\n        expend: \"\",\n        cash: \"\",\n        remark: \"\",\n        id: \"\"\n      },\n      dialog: {\n        show: false,\n        title: \"\",\n        option: \"edit\"\n      },\n      //需要给分页组件传的信息\n      paginations: {\n        page_index: 1,\n        // 当前位于哪页\n        total: 0,\n        // 总数\n        page_size: 5,\n        // 1页显示多少条\n        page_sizes: [5, 10, 15, 20],\n        //每页显示多少条\n        layout: \"total, sizes, prev, pager, next, jumper\" // 翻页属性\n\n      },\n      search_data: {\n        startTime: \"\",\n        endTime: \"\"\n      },\n      pickerOptions1: {\n        shortcuts: [{\n          text: \"今天\",\n          onClick: function onClick(picker) {\n            picker.$emit(\"pick\", new Date());\n          }\n        }, {\n          text: \"昨天\",\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24);\n            picker.$emit(\"pick\", date);\n          }\n        }, {\n          text: \"一周前\",\n          onClick: function onClick(picker) {\n            var date = new Date();\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit(\"pick\", date);\n          }\n        }]\n      }\n    };\n  },\n  created: function created() {\n    this.getProfiles();\n  },\n  methods: {\n    getProfiles: function getProfiles() {\n      var _this = this;\n\n      // 获取表格数据\n      this.$axios.get(\"/api/profiles\").then(function (res) {\n        // console.log(res);\n        _this.allTableData = res.data; // 设置分页数据\n\n        _this.setPaginations();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    },\n    setPaginations: function setPaginations() {\n      var _this2 = this;\n\n      // 分页属性设置\n      this.paginations.total = this.allTableData.length;\n      this.paginations.page_index = 1;\n      this.paginations.page_size = 5; // 设置默认的分页数据\n\n      this.tableData = this.allTableData.filter(function (item, index) {\n        return index < _this2.paginations.page_size;\n      });\n    },\n    handleEdit: function handleEdit(index, row) {\n      // 编辑\n      this.dialog = {\n        show: true,\n        title: \"修改资金信息\",\n        option: \"edit\"\n      };\n      this.formData = {\n        type: row.type,\n        describe: row.describe,\n        income: row.income,\n        expend: row.expend,\n        cash: row.cash,\n        remark: row.remark,\n        id: row._id\n      };\n    },\n    handleDelete: function handleDelete(index, row) {\n      console.log(index, row);\n    },\n    handleAdd: function handleAdd() {\n      // 添加\n      this.dialog = {\n        show: true,\n        title: \"添加资金信息\",\n        option: \"add\"\n      };\n      this.formData = {\n        type: \"\",\n        describe: \"\",\n        income: \"\",\n        expend: \"\",\n        cash: \"\",\n        remark: \"\",\n        id: \"\"\n      };\n    },\n    handleSizeChange: function handleSizeChange(page_size) {\n      // 切换size设置\n      this.paginations.page_index = 1;\n      this.paginations.page_size = page_size;\n      this.tableData = this.allTableData.filter(function (item, index) {\n        return index < page_size;\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      // 获取目标页第一项索引\n      var index = this.paginations.page_size * (page - 1); // 获取目标页最后一项数据的后一项索引（即包含目标页之前所有数据数）\n\n      var nums = this.paginations.page_size * page; // 容器\n\n      var tables = [];\n\n      for (var i = index; i < nums; i++) {\n        if (this.allTableData[i]) {\n          tables.push(this.allTableData[i]);\n        }\n\n        this.tableData = tables;\n      }\n    }\n  }\n};",{"version":3,"sources":["FundList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"fillContainer\">\r\n    <el-form :inline=\"true\" ref=\"add_data\">\r\n        <el-form-item label=\"按时间筛选:\">\r\n            <el-date-picker\r\n                v-model=\"search_data.startTime\"\r\n                type=\"datetime\"\r\n                placeholder=\"选择开始时间\"\r\n                align=\"right\"\r\n                default-time=\"00:00:00\"\r\n                :picker-options=\"pickerOptions1\">\r\n            </el-date-picker>\r\n            <el-date-picker\r\n                v-model=\"search_data.endTime\"\r\n                type=\"datetime\"\r\n                placeholder=\"选择结束时间\"\r\n                align=\"right\"\r\n                default-time=\"00:00:00\"\r\n                :picker-options=\"pickerOptions1\">\r\n            </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item class=\"btnRight\">\r\n            <el-button type=\"primary\" size=\"small\" \r\n            icon=\"view\" @click=\"handleAdd()\">添加</el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n    <div class=\"tableContainer\">\r\n        <el-table v-if=\"tableData.length > 0\" :data=\"tableData\" style=\"width: 100%\" max-height=\"450\" border>\r\n            <el-table-column\r\n                type=\"index\"\r\n                label=\"序号\"\r\n                align='center'\r\n                width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"date\" align='center' label=\"创建时间\" width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    {{ scope.row.date | convertTime('YYYY-MM-DD hh:mm:ss') }}\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"type\" label=\"收支类型\" align='center' width=\"110\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"describe\" label=\"收支描述\" align='center' width=\"130\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"income\" label=\"收入\" align='center' width=\"130\"> \r\n                <template slot-scope=\"scope\">  \r\n                    <span style=\"color:#00d053\">+ {{ scope.row.income }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"expend\" label=\"支出\" align='center' width=\"130\">\r\n                <template slot-scope=\"scope\">  \r\n                    <span style=\"color:#f56767\">- {{ scope.row.expend }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"cash\" label=\"账户现金\" align='center' width=\"130\">\r\n                <template slot-scope=\"scope\">  \r\n                    <span style=\"color:#4db3ff\">{{ scope.row.cash }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"remark\" label=\"备注\" align='center' width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column \r\n                label=\"操作\"\r\n                prop=\"operation\"\r\n                align=\"center\"\r\n                fixed=\"right\"\r\n                width=\"145\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button\r\n                    type=\"warning\"\r\n                    size=\"small\"\r\n                    icon=\"edit\"\r\n                    @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                    <el-button\r\n                    size=\"small\"\r\n                    type=\"danger\"\r\n                    icon=\"delete\"\r\n                    @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-row>\r\n            <!-- element布局分为24列 -->\r\n            <el-col :span=\"24\">\r\n                <div class=\"pagination\">\r\n                    <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page.sync=\"paginations.page_index\"\r\n                        :page-sizes=\"paginations.page_sizes\"\r\n                        :page-size=\"paginations.page_size\"\r\n                        :layout=\"paginations.layout\"\r\n                        :total=\"paginations.total\">\r\n                    </el-pagination>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n    <my-dialog :formData=\"formData\" :dialog=\"dialog\" @update=\"getProfiles\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"fund-list\",\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      allTableData: [],\r\n      formData: {\r\n        type: \"\",\r\n        describe: \"\",\r\n        income: \"\",\r\n        expend: \"\",\r\n        cash: \"\",\r\n        remark: \"\",\r\n        id: \"\"\r\n      },\r\n      dialog: {\r\n        show: false,\r\n        title: \"\",\r\n        option: \"edit\"\r\n      },\r\n      //需要给分页组件传的信息\r\n      paginations: {\r\n        page_index: 1, // 当前位于哪页\r\n        total: 0, // 总数\r\n        page_size: 5, // 1页显示多少条\r\n        page_sizes: [5, 10, 15, 20], //每页显示多少条\r\n        layout: \"total, sizes, prev, pager, next, jumper\" // 翻页属性\r\n      },\r\n      search_data: {\r\n        startTime: \"\",\r\n        endTime: \"\"\r\n      },\r\n      pickerOptions1: {\r\n        shortcuts: [\r\n          {\r\n            text: \"今天\",\r\n            onClick(picker) {\r\n              picker.$emit(\"pick\", new Date());\r\n            }\r\n          },\r\n          {\r\n            text: \"昨天\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n              picker.$emit(\"pick\", date);\r\n            }\r\n          },\r\n          {\r\n            text: \"一周前\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", date);\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getProfiles();\r\n  },\r\n  methods: {\r\n    getProfiles() {\r\n      // 获取表格数据\r\n      this.$axios\r\n        .get(\"/api/profiles\")\r\n        .then(res => {\r\n          // console.log(res);\r\n          this.allTableData = res.data;\r\n          // 设置分页数据\r\n          this.setPaginations();\r\n        })\r\n        .catch(err => console.log(err));\r\n    },\r\n    setPaginations() {\r\n      // 分页属性设置\r\n      this.paginations.total = this.allTableData.length;\r\n      this.paginations.page_index = 1;\r\n      this.paginations.page_size = 5;\r\n      // 设置默认的分页数据\r\n      this.tableData = this.allTableData.filter((item, index) => {\r\n        return index < this.paginations.page_size;\r\n      });\r\n    },\r\n    handleEdit(index, row) {\r\n      // 编辑\r\n      this.dialog = {\r\n        show: true,\r\n        title: \"修改资金信息\",\r\n        option: \"edit\"\r\n      };\r\n\r\n      this.formData = {\r\n        type: row.type,\r\n        describe: row.describe,\r\n        income: row.income,\r\n        expend: row.expend,\r\n        cash: row.cash,\r\n        remark: row.remark,\r\n        id: row._id\r\n      };\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(index, row);\r\n    },\r\n    handleAdd() {\r\n      // 添加\r\n      this.dialog = {\r\n        show: true,\r\n        title: \"添加资金信息\",\r\n        option: \"add\"\r\n      };\r\n\r\n      this.formData = {\r\n        type: \"\",\r\n        describe: \"\",\r\n        income: \"\",\r\n        expend: \"\",\r\n        cash: \"\",\r\n        remark: \"\",\r\n        id: \"\"\r\n      };\r\n    },\r\n    handleSizeChange(page_size) {\r\n      // 切换size设置\r\n      this.paginations.page_index = 1;\r\n      this.paginations.page_size = page_size;\r\n      this.tableData = this.allTableData.filter((item, index) => {\r\n        return index < page_size;\r\n      });\r\n    },\r\n    handleCurrentChange(page) {\r\n      // 获取目标页第一项索引\r\n      let index = this.paginations.page_size * (page - 1);\r\n      // 获取目标页最后一项数据的后一项索引（即包含目标页之前所有数据数）\r\n      let nums = this.paginations.page_size * page;\r\n      // 容器\r\n      let tables = [];\r\n\r\n      for (let i = index; i < nums; i++) {\r\n        if (this.allTableData[i]) {\r\n          tables.push(this.allTableData[i]);\r\n        }\r\n        this.tableData = tables;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.fillcontain {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n}\r\n.btnRight {\r\n  float: right;\r\n  margin: 0;\r\n}\r\n.pagination {\r\n  text-align: right;\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\FundList"}]}